name: Fly Deploy

on:
  push:
    branches:
      - main

jobs:
  deploy:
    name: Deploy app
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: superfly/fly-pr-review-apps@main
        with:
          fly_api_token: ${{ secrets.FLY_API_TOKEN }}
          fly_app_name: "discord-raffle-bot"
          fly_org_name: "<your_fly_org_name>"
          fly_config_file: "fly.toml"
          # Optional: Specify a different Dockerfile
          # dockerfile: "path/to/your/Dockerfile"
          # Optional: Specify build arguments
          # build_args: "ARG1=value1,ARG2=value2"
          # Optional: Specify a build target (for multi-stage Dockerfiles)
          # build_target: "your-build-target"
